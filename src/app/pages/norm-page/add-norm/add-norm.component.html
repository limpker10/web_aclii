<mat-card class="trinta-card add-norm-card mb-25 bg-white border-none d-block">
    <mat-card-header>
        <mat-card-title>
            <h5 class="mt-0 mb-0">
                Agregar Norma
            </h5>
        </mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <form [formGroup]="normForm" (ngSubmit)="onSubmit()" class="space-y-4">
            <div class="row">

                <div class="col-lg-6">
                    <mat-form-field class="w-full" appearance="outline">
                        <mat-label>Código</mat-label>
                        <input matInput formControlName="code" required/>
                    </mat-form-field>
                </div>

                <div class="col-lg-6">
                    <mat-form-field class="w-full" appearance="outline">
                        <mat-label>Organización</mat-label>
                        <input matInput formControlName="organization" required/>
                    </mat-form-field>
                </div>

                <div class="col-lg-12">
                    <mat-form-field class="w-full" appearance="outline">
                        <mat-label>Título</mat-label>
                        <input matInput formControlName="title" required/>
                    </mat-form-field>
                </div>

                <div class="col-lg-4">
                    <mat-form-field class="w-full" appearance="outline">
                        <mat-label>Año de Versión</mat-label>
                        <input matInput formControlName="version_year" type="number" required/>
                    </mat-form-field>
                </div>

                <div class="col-lg-8">
                    <mat-form-field class="w-full" appearance="outline">
                        <mat-label>Enlace de Video (opcional)</mat-label>
                        <input matInput formControlName="video_link"/>
                    </mat-form-field>
                    @if (normForm.get('video_link')?.hasError('pattern')) {
                        <mat-error>
                            Debe ser una URL válida (ej: https://...)
                        </mat-error>
                    }

                </div>

                <div class="col-lg-12">
                    <mat-form-field class="w-full" appearance="outline">
                        <mat-label>Descripción</mat-label>
                        <textarea matInput formControlName="description" rows="3"></textarea>
                    </mat-form-field>
                </div>

                <div class="col-lg-12">
                    <mat-form-field class="w-full" appearance="outline">
                        <mat-label>Acerca de la norma</mat-label>
                        <textarea matInput formControlName="about" rows="4"></textarea>
                    </mat-form-field>
                </div>

                <div class="col-lg-6">
                    <mat-form-field class="w-full" appearance="outline">
                        <mat-label>Categoria</mat-label>
                        <mat-select formControlName="category" required>
                            @for (food of categoryOptions; track food) {
                                <mat-option [value]="food.value">{{ food.label }}</mat-option>
                            }
                        </mat-select>
                    </mat-form-field>
                </div>

            </div>

            <div class="text-end mt-4">
                <button mat-raised-button color="primary" type="submit" [disabled]="normForm.invalid">
                    Registrar Norma
                </button>
                <button mat-button type="reset">Cancelar</button>
            </div>
        </form>
    </mat-card-content>
</mat-card>
